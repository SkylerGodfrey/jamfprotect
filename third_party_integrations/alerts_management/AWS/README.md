# Alerts Management - AWS

This workflow is provided to send alert data from the client running Jamf Protect to an AWS API gateway which invokes a Lambda function
The Lambda function parses the json data and sends a webhook to any chosen and configured third party tool

## Workflow execution

- [ ] Alert is generated by Jamf Protect
- [ ] A JSON file containing the details of the alert is sent to an API gateway
- [ ] The API gateway invokes a Lambda function
- [ ] Lambda function parses the JSON data and extracts useful information
- [ ] Webhook is sent to any chosen and configured third party tool


## Workflow Components

- [ ] AWS API Gateway (REST or HTTP)
- [ ] Lambda funtion
- [ ] AWS Secrets Manager


**AWS Configuration**

- Create an AWS Lambda funtion to execute the script

- From the Lambda Configuration editor, create an AWS API Gateway
 
- The scripts are designed to use AWS Secret Manager to securely retrieve the credentials for Jamf Pro, Jamf Protect, Slack, Teams, VirusTotal etc are stored there 
Edit the IAM Lambda user to privide access to `secretsmanager:GetSecretValue`
    ```{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "secretsmanager:GetSecretValue"
            ],
            "Resource": [
                "arn:ARN_of_Secret_Manager_Secret_here"
            ]
        }
    ]
}
    ```

#
## Please note that all resources contained within this repository are provided as-is and are not officially supported by Jamf Support.